<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Angular, Heylog&#39;s blog">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Angular | Heylog&#39;s blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.2.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Heylog's blog" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Heylog&#39;s blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Heylog&#39;s blog</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/10.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Angular</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="container content">

    
    <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Angular/">
                                <span class="chip bg-color">Angular</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/TypeScript/" class="post-category">
                                TypeScript
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-05-22
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="1-Angular-介绍"><a href="#1-Angular-介绍" class="headerlink" title="1.Angular 介绍"></a>1.Angular 介绍</h2><p><img src="/2020/05/22/angular/angular.png"></p>
<h3 id="1-1-Angular是什么"><a href="#1-1-Angular是什么" class="headerlink" title="1.1 Angular是什么"></a>1.1 Angular是什么</h3><p>Angular（读音[‘æŋgjʊlə]）是一套用于构建用户界面的 JavaScript 框架。由 Google 开发和维护，主要被用来开发单页面应用程序。</p>
<ul>
<li>类似于 <a target="_blank" rel="noopener" href="https://cn.vuejs.org/">Vue.js</a><ul>
<li>MVVM（提供了双向数据绑定）</li>
<li>组件化</li>
<li>模块化</li>
<li>指令</li>
<li>……</li>
</ul>
</li>
<li>由 Google 开发和维护</li>
<li>开发单页面应用程序（SPA） </li>
</ul>
<h3 id="1-2-特性"><a href="#1-2-特性" class="headerlink" title="1.2 特性"></a>1.2 特性</h3><ul>
<li>MVVM</li>
<li>组件化</li>
<li>模块化</li>
<li>指令</li>
<li>服务</li>
<li>依赖注入(很多概念从后台开发中引入的)</li>
<li>TypeScript</li>
<li>…</li>
</ul>
<h3 id="1-3-Angular发展历史"><a href="#1-3-Angular发展历史" class="headerlink" title="1.3 Angular发展历史"></a>1.3 Angular发展历史</h3><h4 id="1-3-1-Angular1"><a href="#1-3-1-Angular1" class="headerlink" title="1.3.1 Angular1"></a>1.3.1 Angular1</h4><p>2009年，Misko hevery 和 Adam abrons 在业余时间打造了 <code>GetAngular</code></p>
<p><img src="/2020/05/22/angular/MiskoInterview.png"></p>
<p><img src="/2020/05/22/angular/4529.jpg"></p>
<p>Misko Hevery 接手了 Google 内部的一个项目 <code>Feedback</code> ，该项目经过6个月的迭代代码量已经达到了17000行。项目的开发和维护已经变得非常的困难。所有 Misko 就决定用 <code>GetAngular</code> 重写这个项目。</p>
<p>结果就是小伙子成功了，使用 <code>GetAngular</code> 之后该项目从17000行缩减到了1500行，前后仅仅使用了三周时间。</p>
<p><img src="/2020/05/22/angular/17000-1500.png"></p>
<p>Misko 领导一看，小伙子厉害啊，同时也看到了 <code>GetAngular</code> 所带来的商业价值，所以决定把  <code>GetAngular</code> 正式立项，组织专职团队开发和维护。</p>
<p>Abrons 后来离开了这个计划，但在 Google 工作的 Hevery 和一些谷歌员工如 Igor Minár 和 Vojta Jína 等则继续开发维护此库。</p>
<p>由于已不再是个人项目，所以开发团队将 <code>GetAngular</code> 重新命名为了 <code>AngularJS</code> 。</p>
<p><img src="/2020/05/22/angular/AngularJS-large.png"></p>
<p>至此，AngularJS 就进入了漫长的发展迭代阶段。</p>
<ul>
<li>经过了3年的发展，AngularJS 在2012年6月份，<code>1.0.0</code> 版本正式推出。</li>
<li>AngularJS 在1.2之后的版本不再支持 IE 6和7</li>
<li>AngularJS 在 1.3 之后不再支持 IE8</li>
<li>AngularJS 在 1.5 增加了类似组件化的开发方式<ul>
<li>为过渡到 Angular2 做铺垫</li>
</ul>
</li>
<li>AngularJS <code>1.x.x</code> 已发布到了 <code>1.6.x</code></li>
</ul>
<h4 id="1-3-2-Angular1的困境"><a href="#1-3-2-Angular1的困境" class="headerlink" title="1.3.2 Angular1的困境"></a>1.3.2 Angular1的困境</h4><ul>
<li>饱受诟病的性能问题<ul>
<li>脏检查 (<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000010433675">https://segmentfault.com/a/1190000010433675</a>)</li>
</ul>
</li>
<li>落后于当前 Web 发展理念<ul>
<li>例如组件化</li>
<li>模块化支持不好</li>
</ul>
</li>
<li>对移动端支持不够友好</li>
</ul>
<h4 id="1-3-3-Angular-2-横空出世"><a href="#1-3-3-Angular-2-横空出世" class="headerlink" title="1.3.3 Angular 2 横空出世"></a>1.3.3 Angular 2 横空出世</h4><p><a target="_blank" rel="noopener" href="https://angular.io/">https://angular.io/</a></p>
<p>Angular 1.x 由于问题太多，历史包袱太重，重构几乎不可能。</p>
<p>不过早在2014年3月，官方博客就有提及开发新版本 Angular 的计划。</p>
<p>2014年9月下旬一个大会上，<code>Angular2</code> 正式亮相。</p>
<p>2016年9月15号，<code>Angular2</code> 正式发布。</p>
<p>由于 ng2 几乎完全重写了 ng1 ，所以官方把2之后的版本都称之为 Angular。</p>
<p><img src="/2020/05/22/angular/Angular-large.png"></p>
<p>Angular 2 之后的正式 Logo：</p>
<p><img src="/2020/05/22/angular/angular.png"></p>
<p>新版本发布了，那用户如何从 1 升级到 2 呢？</p>
<p><img src="/2020/05/22/angular/ng2-ng1.png"></p>
<p>那到底要不要更新呢？</p>
<p><img src="/2020/05/22/angular/mountain.png"></p>
<h4 id="1-3-4-ng2-相比-ng1"><a href="#1-3-4-ng2-相比-ng1" class="headerlink" title="1.3.4 ng2 相比 ng1"></a>1.3.4 ng2 相比 ng1</h4><ul>
<li>移除了 controller+$scope 的设计方式，改用了当前主流的组件化构建</li>
<li>相比 ng1 性能更好(脏检查机制已做优化)</li>
<li>优先为移动端设计</li>
<li>更贴合未来标准<ul>
<li>EcmaScript 6  (TypeScript)</li>
<li>Web Component</li>
</ul>
</li>
<li>TypeScript</li>
<li>反正就是更现代化，更好了……</li>
</ul>
<h4 id="1-3-5-Angular现状"><a href="#1-3-5-Angular现状" class="headerlink" title="1.3.5 Angular现状"></a>1.3.5 Angular现状</h4><ul>
<li>自 Angular 2 之后，官方承诺之后的版本都会兼容到 Angular 2</li>
<li>当前 Angular 最新发布版为 <code>8.x.x</code></li>
<li>新版的 Angular 在 Github 上也已收获了 3万+ ☆</li>
<li>使用量低于 React 和 Vue</li>
</ul>
<h3 id="1-4-相关链接"><a href="#1-4-相关链接" class="headerlink" title="1.4 相关链接"></a>1.4 相关链接</h3><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Angular">维基百科 - Angular</a></li>
<li><a target="_blank" rel="noopener" href="https://angularjs.org/">AngularJS 1.x.x 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/">Angular 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/angular/angular">Angular Github</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/docs">Angular 官方文档</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/tutorial">Angular 官方教程</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/api">Angular APi文档</a></li>
</ul>
<h2 id="2-Angular-cli"><a href="#2-Angular-cli" class="headerlink" title="2.Angular-cli"></a>2.Angular-cli</h2><h3 id="2-1-创建Angular-cli项目"><a href="#2-1-创建Angular-cli项目" class="headerlink" title="2.1 创建Angular-cli项目"></a>2.1 创建Angular-cli项目</h3><pre class=" language-javascript"><code class="language-javascript"><span class="token number">1</span><span class="token punctuation">.</span>环境要求
   Node <span class="token number">10.9</span><span class="token punctuation">.</span><span class="token number">0</span> or higher
   NPM <span class="token number">3</span> or higher
   Python2<span class="token number">.7</span><span class="token punctuation">.</span><span class="token number">1</span>                  
   C<span class="token operator">++</span> 编译工具

   <span class="token comment" spellcheck="true">//Python下载地址</span>
   https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>python<span class="token punctuation">.</span>org<span class="token operator">/</span>downloads<span class="token operator">/</span>release<span class="token regex">/python-271/</span>
   python <span class="token operator">--</span>version

   <span class="token comment" spellcheck="true">//C++编译工具   windows7/Vista依赖于.NET Framework 4.5.1</span>
   <span class="token comment" spellcheck="true">//npm install --global --production windows-build-tools</span>
   <span class="token comment" spellcheck="true">//如果安装出错，可以去用户目录下的.windows-build-tools下选择安装文件双击运行</span>

<span class="token number">2</span><span class="token punctuation">.</span>安装Angular<span class="token operator">-</span>cli
   npm install <span class="token operator">-</span>g @angular<span class="token operator">/</span>cli
   ng help
   ng <span class="token keyword">new</span> <span class="token operator">&lt;</span>项目名称<span class="token operator">></span>
   ng serve    <span class="token comment" spellcheck="true">//默认占用 4200 端口号，可以通过下面选项配置</span>
   ng serve <span class="token operator">--</span>port <span class="token number">4201</span></code></pre>
<p><img src="/2020/05/22/angular/1563331466612.png"></p>
<h3 id="2-2-Angular-cli项目目录结构"><a href="#2-2-Angular-cli项目目录结构" class="headerlink" title="2.2 Angular-cli项目目录结构"></a>2.2 Angular-cli项目目录结构</h3><p><img src="/2020/05/22/angular/1563333171751.png"></p>
<pre><code>.
├── e2e 端到端测试（暂且不关心）
├── node_modules npm安装的第三方包
├── src 存放业务源码
├── .angular.json            AngularCLI脚手架工具配置文件
├── .editorconfig            针对编辑器的代码风格约束
├── .gitignore                 Git仓库忽略配置项
├── karma.conf.js            测试配置文件（给karma用的，暂且不用关心）
├── package.json            项目包说明文件
├── README.md             项目说明文件
├── tsconfig.json             TypeScript配置文件
└── tslint.json                  TypeScript代码风格校验工具配置文件（类似于 eslint）</code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//npm scripts介绍</span>
<span class="token operator">...</span>
<span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"ng"</span><span class="token punctuation">:</span> <span class="token string">"ng"</span><span class="token punctuation">,</span> 运行查看 Angular CLI 脚手架工具使用帮助
    <span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"ng serve"</span><span class="token punctuation">,</span> 运行开发模式
    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"ng build --prod"</span><span class="token punctuation">,</span> 运行项目打包构建（用于发布到生成环境）
    <span class="token string">"test"</span><span class="token punctuation">:</span> <span class="token string">"ng test"</span><span class="token punctuation">,</span> 运行karma单元测试
    <span class="token string">"lint"</span><span class="token punctuation">:</span> <span class="token string">"ng lint"</span><span class="token punctuation">,</span> 运行TypeScript代码校验
    <span class="token string">"e2e"</span><span class="token punctuation">:</span> <span class="token string">"ng e2e"</span> 运行protractor端到端测试
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span></code></pre>
<pre class=" language-javascript"><code class="language-javascript">main<span class="token punctuation">.</span>js
<span class="token operator">-</span> 描述：模块化启动入口
<span class="token operator">-</span> 职责：加载启动根模块</code></pre>
<pre class=" language-javascript"><code class="language-javascript">AppModule
<span class="token operator">-</span> 描述：项目根模块
<span class="token operator">-</span> 职责：把组件、服务、路由、指令等组织到一起，设置AppComponent为根组件


<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> AppRoutingModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app-routing.module'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FooComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./foo/foo.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> LoginComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./home/login/login.component'</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//声明模块资源：组件、指令、服务</span>
  declarations<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    AppComponent<span class="token punctuation">,</span>
    FooComponent<span class="token punctuation">,</span>
    LoginComponent
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">//依赖模块</span>
  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    BrowserModule<span class="token punctuation">,</span>
    AppRoutingModule
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">//指定应用程序的根级别需要使用的service</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">//指定启动组件</span>
  bootstrap<span class="token punctuation">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></code></pre>
<pre class=" language-javascript"><code class="language-javascript">AppComponent
<span class="token operator">-</span> 描述：项目根组件
<span class="token operator">-</span> 职责：替换掉 index<span class="token punctuation">.</span>html 文件中的 <span class="token operator">&lt;</span>app<span class="token operator">-</span>root<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>app<span class="token operator">-</span>root<span class="token operator">></span> 节点</code></pre>
<pre><code>app.component.spec.ts      单元测试文件，暂时不用管他</code></pre>
<h2 id="3-Angular核心语法"><a href="#3-Angular核心语法" class="headerlink" title="3.Angular核心语法"></a>3.Angular核心语法</h2><h3 id="3-1-组件"><a href="#3-1-组件" class="headerlink" title="3.1 组件"></a>3.1 组件</h3><h4 id="3-1-1-组件基本使用"><a href="#3-1-1-组件基本使用" class="headerlink" title="3.1.1 组件基本使用"></a>3.1.1 组件基本使用</h4><pre class=" language-javascript"><code class="language-javascript">#<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//在Angular中，组件就是一个类</span>
<span class="token comment" spellcheck="true">//@Component 组件的装饰器 (组件的元数据)</span>
<span class="token comment" spellcheck="true">// selector: 用来定义组件渲染的标签名称(index.html中有一个app-root)  其实就是组件的名称</span>
<span class="token comment" spellcheck="true">// templateUrl: 用来指定组件的页面模板</span>
<span class="token comment" spellcheck="true">// styleUrls : 一个数组，用来存放组件相关的样式文件</span>
@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'app-root'</span><span class="token punctuation">,</span>
  templateUrl<span class="token punctuation">:</span> <span class="token string">'./app.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./app.component.less'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//这里面用来放组件的数据和方法</span>
  title <span class="token operator">=</span> <span class="token string">'testng2'</span><span class="token punctuation">;</span>
  count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  increment <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


#<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
<span class="token operator">&lt;</span>h3<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
<span class="token operator">&lt;</span>button <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"increment()"</span><span class="token operator">></span>点我<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></code></pre>
<h4 id="3-1-2-组件的创建"><a href="#3-1-2-组件的创建" class="headerlink" title="3.1.2 组件的创建"></a>3.1.2 组件的创建</h4><pre class=" language-shell"><code class="language-shell"># 创建组件  组件会被创建到app目录下
ng generate component foo
ng generate component /home/login

# app.component.html中使用上面创建的组件
<app-foo></app-foo>
<app-login></app-login></code></pre>
<h3 id="3-2-指令与模板语法"><a href="#3-2-指令与模板语法" class="headerlink" title="3.2 指令与模板语法"></a>3.2 指令与模板语法</h3><pre class=" language-javascript"><code class="language-javascript">NgClass  作用：添加或移除一组 CSS 类

NgStyle  作用：添加或移除一组 CSS 样式

NgModel 作用：双向绑定到 HTML 表单元素

NgIf  作用：根据条件添加或移除 DOM

NgSwitch  作用：类似于 JavaScript 中的 <span class="token keyword">switch</span> 语句，根据条件渲染多个选项中的一个。

NgFor 作用：列表渲染</code></pre>
<h4 id="3-2-1-插值表达式"><a href="#3-2-1-插值表达式" class="headerlink" title="3.2.1 插值表达式"></a>3.2.1 插值表达式</h4><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//{{js表达式}}</span>
<span class="token comment" spellcheck="true">//[xx] = "js表达式"     angular中的[]类似于vue中的v-bind</span>
<span class="token operator">&lt;</span>p<span class="token operator">></span>Message<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> msg <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>

<span class="token operator">&lt;</span>p <span class="token punctuation">[</span>innerHTML<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"msg"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 写法一 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ heroImageUrl }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token comment" spellcheck="true">&lt;!-- 写法二，推荐 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">[src]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>heroImageUrl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token comment" spellcheck="true">&lt;!-- 写法三 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">bind-src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>heroImageUrl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>在布尔特性的情况下，它们的存在即暗示为 <code>true</code>，属性绑定工作起来略有不同，在这个例子中：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">[disabled]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isButtonDisabled<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>

如果 isButtonDisabled 的值是 null、undefined 或 false，则 disabled 特性甚至不会被包含在渲染出来的 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span> 元素中。</code></pre>
<h4 id="3-2-2-使用-JavaScript-表达式"><a href="#3-2-2-使用-JavaScript-表达式" class="headerlink" title="3.2.2 使用 JavaScript 表达式"></a>3.2.2 使用 JavaScript 表达式</h4><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>1 + 1 = {{ 1 + 1 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>{{ num + 1 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>{{ isDone ? '完了' : '没完' }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>{{ title.split('').reverse().join('') }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">[title]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title.split(<span class="token punctuation">'</span><span class="token punctuation">'</span>).reverse().join(<span class="token punctuation">'</span><span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span></code></pre>
<p>编写模板表达式所用的语言看起来很像 JavaScript。 很多 JavaScript 表达式也是合法的模板表达式，但不是全部。</p>
<p>Angular 遵循轻逻辑的设计思路，所以在模板引擎中不能编写非常复杂的 JavaScript 表达式，这里有一些约定：</p>
<ul>
<li>赋值 (<code>=</code>, <code>+=</code>, <code>-=</code>, …)</li>
<li><code>new</code> 运算符</li>
<li>使用 <code>;</code> 或 <code>,</code> 的链式表达式</li>
<li>自增或自减操作符 (<code>++</code>和<code>--</code>)</li>
</ul>
<h4 id="3-2-3-列表渲染"><a href="#3-2-3-列表渲染" class="headerlink" title="3.2.3 列表渲染"></a>3.2.3 列表渲染</h4><p>基本用法：</p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
  heroes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Windstorm'</span><span class="token punctuation">,</span> <span class="token string">'Bombasto'</span><span class="token punctuation">,</span> <span class="token string">'Magneta'</span><span class="token punctuation">,</span> <span class="token string">'Tornado'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Heroes:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">[id]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>list-<span class="token punctuation">'</span> + hero<span class="token punctuation">"</span></span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>let hero of heroes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    {{ hero }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code></pre>
<p>也可以获取 index 索引：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>let hero of heroes; let i<span class="token punctuation">=</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{i + 1}} - {{hero.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h4 id="3-2-4-条件渲染"><a href="#3-2-4-条件渲染" class="headerlink" title="3.2.4 条件渲染"></a>3.2.4 条件渲染</h4><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>heroes.length<span class="token punctuation">></span>3; else templateName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>有很多英雄<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#templateName</span><span class="token punctuation">></span></span>没有很多英雄<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span></code></pre>
<h4 id="3-2-5-NgSwitch"><a href="#3-2-5-NgSwitch" class="headerlink" title="3.2.5 NgSwitch"></a>3.2.5 NgSwitch</h4><p>NgSwitch 的语法比较啰嗦，使用频率小一些。</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[ngSwitch]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>currentHero<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngSwitchCase</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Windstorm<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Windstorm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngSwitchCase</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Bombasto<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Bombasto<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngSwitchCase</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Magneta<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Magneta<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngSwitchDefault</span><span class="token punctuation">></span></span>Tornado<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h4 id="3-2-6-自定义指令"><a href="#3-2-6-自定义指令" class="headerlink" title="3.2.6 自定义指令"></a>3.2.6 自定义指令</h4><pre class=" language-javascript"><code class="language-javascript">自定义指令：https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>angular<span class="token punctuation">.</span>cn<span class="token operator">/</span>guide<span class="token operator">/</span>attribute<span class="token operator">-</span>directives

ng generate directive highlight

#highlight<span class="token punctuation">.</span>directive<span class="token punctuation">.</span>ts
<span class="token keyword">import</span> <span class="token punctuation">{</span> Directive<span class="token punctuation">,</span>ElementRef  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

@<span class="token function">Directive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'[appHighlight]'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">HighlightDirective</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>el<span class="token punctuation">:</span> ElementRef<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'yellow'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

#app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
<span class="token operator">&lt;</span>p appHighlight<span class="token operator">></span>Highlight me<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></code></pre>
<h4 id="3-2-7-事件处理"><a href="#3-2-7-事件处理" class="headerlink" title="3.2.7 事件处理"></a>3.2.7 事件处理</h4><p>事件绑定只需要用圆括号把事件名包起来即可：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onSave()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<p>可以把事件对象传递到事件处理函数中：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onSave($event)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>On Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<p>也可以传递额外的参数（取决于你的业务）：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onSave($event, 123)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>On Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<p>当事件处理语句比较简单的时候，我们可以内联事件处理语句：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message <span class="token punctuation">=</span> <span class="token punctuation">'</span>哈哈哈<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>内联事件处理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<p>我们可以利用 <strong>属性绑定 + 事件处理</strong> 的方式实现表单文本框双向绑定：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">[value]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span>
       <span class="token attr-name">(input)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">=</span>$event.target.value<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span></code></pre>
<p>事件绑定的另一种写法，使用 <code>on-</code> 前缀的方式：</p>
<pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 绑定事件处理函数 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">on-click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onSave()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>On Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<h4 id="3-2-8-双向绑定"><a href="#3-2-8-双向绑定" class="headerlink" title="3.2.8 双向绑定"></a>3.2.8 双向绑定</h4><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">[(ngModel)]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>运行之后你会发现报错了，原因是使用 <code>ngModel</code> 必须导入 <code>FormsModule</code> 并把它添加到 Angular 模块的 <code>imports</code> 列表中。</p>
<p>导入 <code>FormsModule</code> 并让 <code>[(ngModel)]</code> 可用的代码如下：</p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token operator">++</span><span class="token operator">+</span> <span class="token keyword">import</span> <span class="token punctuation">{</span> FormsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.component'</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    AppComponent
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    BrowserModule<span class="token punctuation">,</span>
<span class="token operator">++</span><span class="token operator">+</span> FormsModule
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  bootstrap<span class="token punctuation">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></code></pre>
<p>通过以上的配置之后，你就可以开心的在 Angular 中使用双向数据绑定了。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//多行文本</span>
<span class="token operator">&lt;</span>textarea cols<span class="token operator">=</span><span class="token string">"30"</span> rows<span class="token operator">=</span><span class="token string">"10"</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>ngModel<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"message"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>textarea<span class="token operator">></span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//复选框</span>
<span class="token operator">&lt;</span>h3<span class="token operator">></span>复选框<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>ngModel<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"seen"</span><span class="token operator">></span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//单选按钮</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"0"</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>ngModel<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"gender"</span><span class="token operator">></span> 男
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"1"</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>ngModel<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"gender"</span><span class="token operator">></span> 女
<span class="token operator">&lt;</span>p<span class="token operator">></span>选中了：<span class="token punctuation">{</span><span class="token punctuation">{</span> gender <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//下拉列表</span>
<span class="token operator">&lt;</span>select <span class="token punctuation">[</span><span class="token punctuation">(</span>ngModel<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"hobby"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>option <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"0"</span><span class="token operator">></span>吃饭<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>
  <span class="token operator">&lt;</span>option <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">></span>睡觉<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>
  <span class="token operator">&lt;</span>option <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"2"</span><span class="token operator">></span>打豆豆<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span>
<span class="token operator">&lt;</span>p<span class="token operator">></span>选中的爱好：<span class="token punctuation">{</span><span class="token punctuation">{</span> hobby <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></code></pre>
<h4 id="3-2-9-Class绑定"><a href="#3-2-9-Class绑定" class="headerlink" title="3.2.9 Class绑定"></a>3.2.9 Class绑定</h4><ul>
<li><a target="_blank" rel="noopener" href="https://angular.io/guide/template-syntax#ngClass">https://angular.io/guide/template-syntax#ngClass</a></li>
</ul>
<p>a) 普通写法</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//我们也可以通过类绑定或样式绑定来显示或隐藏一个元素。</span>
<span class="token comment" spellcheck="true">//  isSpecial = true</span>

<span class="token operator">&lt;</span>div <span class="token punctuation">[</span><span class="token keyword">class</span><span class="token punctuation">.</span>hidden<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"!isSpecial"</span><span class="token operator">></span>Show <span class="token keyword">with</span> <span class="token keyword">class</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>div <span class="token punctuation">[</span><span class="token keyword">class</span><span class="token punctuation">.</span>hidden<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"isSpecial"</span><span class="token operator">></span>Hide <span class="token keyword">with</span> <span class="token keyword">class</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 标准class绑定写法 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bad curly special<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Bad curly special<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token comment" spellcheck="true">&lt;!--使用bind来添加指定的class  --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bad curly special<span class="token punctuation">"</span></span>
     <span class="token attr-name">[class]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>bad<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Bad curly<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token comment" spellcheck="true">&lt;!--通过isSpecial属性来切换special样式 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[class.special]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isSpecial<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>The class binding is special<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>b) 使用NgClass指令 </p>
<p><code>NgClass</code> 指令接收一个对象，对象的 <code>key</code> 指定 css 类名，value 给定一个布尔值，当布尔值为真则作用该类名，当布尔值为假则移除给类名。</p>
<p>语法规则：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[ngClass]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{
  css类名: 布尔值,
  css类名: 布尔值
}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>测试文本<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>基本示例：</p>
<pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.saveable</span></span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">18</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token selector"><span class="token class">.modified</span> </span><span class="token punctuation">{</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token class">.special</span></span><span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#ff3300</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-typescript"><code class="language-typescript">currentClasses <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'special'</span><span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
    <span class="token string">'modified'</span><span class="token punctuation">:</span><span class="token keyword">true</span><span class="token punctuation">,</span>
    <span class="token string">'saveable'</span><span class="token punctuation">:</span><span class="token keyword">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[ngClass]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<span class="token punctuation">'</span>special<span class="token punctuation">'</span>:true,<span class="token punctuation">'</span>saveable<span class="token punctuation">'</span>:true}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>This div is initially saveable, unchanged, and special<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[ngClass]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>currentClasses<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>This div is initially saveable, unchanged, and special<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h4 id="3-2-10-Style绑定"><a href="#3-2-10-Style绑定" class="headerlink" title="3.2.10 Style绑定"></a>3.2.10 Style绑定</h4><p>a) 普通写法</p>
<p>通过<strong>样式绑定</strong>，可以设置内联样式。</p>
<p>样式绑定的语法与属性绑定类似。 但方括号中的部分不是元素的属性名，而由<strong>style</strong>前缀，一个点 (<code>.</code>)和 CSS 样式的属性名组成。 形如：<code>[style.style-property]</code>。</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">[style.color]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isSpecial ? <span class="token punctuation">'</span>red<span class="token punctuation">'</span>: <span class="token punctuation">'</span>green<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Red<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!-- 也可以 backgroundColor --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">[style.background-color]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>canSave ? <span class="token punctuation">'</span>cyan<span class="token punctuation">'</span>: <span class="token punctuation">'</span>grey<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[style.display]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isSpecial ? <span class="token punctuation">'</span>block<span class="token punctuation">'</span> : <span class="token punctuation">'</span>none<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Show with style<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[style.display]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isSpecial ? <span class="token punctuation">'</span>none<span class="token punctuation">'</span>  : <span class="token punctuation">'</span>block<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Hide with style<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>有些样式绑定中的样式带有单位。在这里，以根据条件用 “em” 和 “%” 来设置字体大小的单位。</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">[style.font-size.em]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isSpecial ? 3 : 1<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>Big<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">[style.font-size.%]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>!isSpecial ? 150 : 50<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>Small<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<blockquote>
<p>提示：<em>样式属性</em>命名方法可以用<a target="_blank" rel="noopener" href="https://angular.cn/guide/glossary#dash-case">中线命名法</a>，像上面的一样 也可以用<a target="_blank" rel="noopener" href="https://angular.cn/guide/glossary#camelcase">驼峰式命名法</a>，如<code>fontSize</code>。</p>
</blockquote>
<p>b) 使用NgStyle指令</p>
<p>虽然这是设置单一样式的好办法，但我们通常更喜欢使用 <a target="_blank" rel="noopener" href="https://angular.cn/guide/template-syntax#ngStyle">NgStyle指令</a> 来同时设置多个内联样式。</p>
<pre class=" language-typescript"><code class="language-typescript"> currentStyles <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'font-style'</span><span class="token punctuation">:</span> <span class="token string">'italic'</span><span class="token punctuation">,</span>
    <span class="token string">'font-weight'</span><span class="token punctuation">:</span> <span class="token string">'bold'</span><span class="token punctuation">,</span>
    <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token string">'24px'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">[ngStyle]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>currentStyles<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  This div is initially italic, normal weight, and extra large (24px).
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>ngStyle 这种方式相当于在代码里面写 CSS 样式，比较丑陋，而且将来不太好修改，非常不建议这样写（足够简单的情况除外）。</p>
<h4 id="3-2-11-模板引用变量"><a href="#3-2-11-模板引用变量" class="headerlink" title="3.2.11 模板引用变量"></a>3.2.11 模板引用变量</h4><p><strong>模板引用变量</strong>通常用来引用模板中的某个DOM元素，它还可以引用Angular组件或指令或<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components">Web Component</a>。</p>
<p>使用井号 (#) 来声明引用变量。 <code>#phone</code>的意思就是声明一个名叫<code>phone</code>的变量来引用<code>&lt;input&gt;</code>元素。</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">#phone</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>phone number<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>我们可以在模板中的任何地方引用模板引用变量。 比如声明在<code>&lt;input&gt;</code>上的<code>phone</code>变量就是在模板另一侧的<code>&lt;button&gt;</code>上使用的。</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">#phone</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>phone number<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token comment" spellcheck="true">&lt;!-- lots of other elements --></span>

<span class="token comment" spellcheck="true">&lt;!-- phone refers to the input element; pass its `value` to an event handler --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>callPhone(phone.value)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Call<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<blockquote>
<p>大多数情况下，Angular会把模板引用变量的值设置为声明它的那个元素。在上面例子中，<code>phone</code> 引用的是表示<em>电话号码</em>的<code>&lt;input&gt;</code>框。 “拨号”按钮的点击事件处理器把这个<em>input</em>值传给了组件的<code>callPhone</code>方法。 不过，指令也可以修改这种行为，让这个值引用到别处，比如它自身。 <code>NgForm</code>指令就是这么做的。</p>
</blockquote>
<p>模板引用变量使用注意：</p>
<ul>
<li>模板引用变量的作用范围是<em>整个模板</em>。 不要在同一个模板中多次定义同一个变量名，否则它在运行期间的值是无法确定的。</li>
<li>如果我在模板里面定义的局部变量和组件内部的属性重名会怎么样呢<ul>
<li>如果真的出现了重名，Angular 会按照以下优先级来进行处理</li>
<li><code>模板局部变量 &gt; 指令中的同名变量 &gt; 组件中的同名属性</code></li>
</ul>
</li>
<li>我们也可以用<code>ref-</code>前缀代替<code>#</code>。 下面的例子中就用把<code>fax</code>变量声明成了<code>ref-fax</code>而不是<code>#fax</code>。</li>
</ul>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref-fax</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fax number<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>callFax(fax.value)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Fax<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//在js代码中使用模板引用变量</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span>ViewChild<span class="token punctuation">,</span>ElementRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'app-login'</span><span class="token punctuation">,</span>
  templateUrl<span class="token punctuation">:</span> <span class="token string">'./login.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./login.component.less'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LoginComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//ViewChild可以在js代码中获取页面引用的模板</span>
  @<span class="token function">ViewChild</span><span class="token punctuation">(</span><span class="token string">'phone'</span><span class="token punctuation">)</span> phone<span class="token punctuation">:</span> ElementRef<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token punctuation">}</span>

  isSpecial <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  currentClasses <span class="token operator">=</span> <span class="token punctuation">{</span>
    saveable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    modified<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    special<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  currentStyles <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'font-style'</span><span class="token punctuation">:</span> <span class="token string">'italic'</span><span class="token punctuation">,</span>
    <span class="token string">'font-weight'</span><span class="token punctuation">:</span> <span class="token string">'bold'</span><span class="token punctuation">,</span>
    <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token string">'24px'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  currentTime<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  callPhone <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//获取页面模板 phone中的内容</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>phone<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
<h4 id="3-2-12-过滤器"><a href="#3-2-12-过滤器" class="headerlink" title="3.2.12 过滤器"></a>3.2.12 过滤器</h4><p>在 Angular 中，过滤器也叫管道。它最重要的作用就是用来格式化数据的输出。</p>
<p>举个简单例子：</p>
<pre class=" language-typescript"><code class="language-typescript">currentTime<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{currentTime | date:'yyyy-MM-dd HH:mm:ss'}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></code></pre>
<p>Angular 一共内置了一些过滤器：<a target="_blank" rel="noopener" href="https://angular.io/api?type=pipe%E3%80%82">https://angular.io/api?type=pipe。</a></p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//货币转换 currency</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">123</span> <span class="token operator">|</span> currency <span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">//$123</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">123</span> <span class="token operator">|</span> currency<span class="token punctuation">:</span><span class="token string">'￥'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">//￥123</span>

<span class="token comment" spellcheck="true">//格式化时间 date</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span> date<span class="token punctuation">:</span><span class="token string">'yyyyMMdd'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">//2016/11/02</span>
yyyy<span class="token operator">/</span>yy <span class="token punctuation">:</span> <span class="token number">2016</span> <span class="token operator">/</span> <span class="token number">16</span>（年）
MM： <span class="token number">11</span>  （月）
dd：<span class="token number">02</span> （日）
h<span class="token operator">/</span>hh <span class="token punctuation">:</span> <span class="token number">8</span> <span class="token operator">/</span> <span class="token number">08</span> （时）
m<span class="token operator">/</span>mm <span class="token punctuation">:</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">05</span> （分）
s <span class="token operator">/</span>ss <span class="token punctuation">:</span> <span class="token number">9</span> <span class="token operator">/</span><span class="token number">09</span>（秒）
EEEE<span class="token operator">/</span>EEE <span class="token punctuation">:</span>（星期）

<span class="token comment" spellcheck="true">//json</span>
将JavaScript对象转为json字符串
<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'jack'</span><span class="token punctuation">}</span> <span class="token operator">|</span> json<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// {"name":"jack"}</span>

<span class="token comment" spellcheck="true">//将字符串数字转为数字 number</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token string">'123.134545'</span><span class="token operator">|</span> number<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// 默认保留3位小数</span>

<span class="token comment" spellcheck="true">//uppercase lowercase</span>
将英文字母转为大写或小写。
<span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token string">'Hello'</span> <span class="token operator">|</span> uppercase  <span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">//HELLO</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token string">'Hello'</span> <span class="token operator">|</span> lowercase<span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">//hello</span></code></pre>
<p>在复杂业务场景中，内置的过滤器肯定是不够用的，所有 Angular 也支持自定义过滤器。</p>
<p><a target="_blank" rel="noopener" href="https://angular.io/guide/pipes">https://angular.io/guide/pipes</a></p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//自定义过滤器</span>
ng generate pipe msgformat

<span class="token comment" spellcheck="true">//msgformat.pipe.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Pipe<span class="token punctuation">,</span> PipeTransform <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

@<span class="token function">Pipe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'msgformat'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MsgformatPipe</span> <span class="token keyword">implements</span> <span class="token class-name">PipeTransform</span> <span class="token punctuation">{</span>
  <span class="token function">transform</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> string<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">:</span> unknown<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> unknown <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//使用</span>
<span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token string">"123"</span><span class="token operator">|</span>msgformat<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre>
<h3 id="3-3-路由"><a href="#3-3-路由" class="headerlink" title="3.3 路由"></a>3.3 路由</h3><pre class=" language-javascript"><code class="language-javascript">#<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>module<span class="token punctuation">.</span>ts
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> AppRoutingModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app-routing.module'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FooComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./foo/foo.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> LoginComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./home/login/login.component'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//引入路由模块</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RouterModule<span class="token punctuation">,</span> Routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//声明路由</span>
<span class="token keyword">const</span> appRoutes<span class="token punctuation">:</span> Routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> FooComponent <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">//路由路径、组件和路由数据</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'login/:id'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> LoginComponent <span class="token punctuation">,</span>data<span class="token punctuation">:</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'login信息'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//声明模块资源：组件、指令、服务</span>
  declarations<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    AppComponent<span class="token punctuation">,</span>
    FooComponent<span class="token punctuation">,</span>
    LoginComponent
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">//依赖模块</span>
  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    RouterModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span>
      appRoutes
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    BrowserModule<span class="token punctuation">,</span>
    AppRoutingModule
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">//指定启动组件</span>
  bootstrap<span class="token punctuation">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

#<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>routerLinkActive：指定路由被激活的样式
      queryParams：路由传参
    <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span>a routerLink<span class="token operator">=</span><span class="token string">"/foo"</span> routerLinkActive<span class="token operator">=</span><span class="token string">"active"</span><span class="token operator">></span>来到foo<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
<span class="token operator">&lt;</span>a routerLink<span class="token operator">=</span><span class="token string">"/login/5"</span> <span class="token punctuation">[</span>queryParams<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"{name: 'zhangsan'}"</span> routerLinkActive<span class="token operator">=</span><span class="token string">"active"</span><span class="token operator">></span>来到login<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>这边的router<span class="token operator">-</span>outlet就类似于vue中的router<span class="token operator">-</span>view<span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>outlet<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>outlet<span class="token operator">></span>

#<span class="token number">3</span><span class="token punctuation">.</span>login<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ActivatedRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Location <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/common'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'app-login'</span><span class="token punctuation">,</span>
  templateUrl<span class="token punctuation">:</span> <span class="token string">'./login.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./login.component.less'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LoginComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//声明id</span>
  <span class="token keyword">public</span> id<span class="token punctuation">:</span>string<span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">//将route和location注入到构造函数</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> route<span class="token punctuation">:</span> ActivatedRoute<span class="token punctuation">,</span>
    <span class="token keyword">private</span> location<span class="token punctuation">:</span> Location
  <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>


  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//获取路由中的 参数信息</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>paramMap<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true">//获取路由中的data 信息</span>
    <span class="token comment" spellcheck="true">//console.log(this.route.snapshot.data.title)</span>

    <span class="token comment" spellcheck="true">//获取路由参数的信息</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>queryParams<span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true">//获取当前路径，回退</span>
    <span class="token comment" spellcheck="true">//console.log(this.location.path())</span>
    <span class="token comment" spellcheck="true">//this.location.back();</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

#<span class="token number">3</span><span class="token punctuation">.</span>login<span class="token punctuation">.</span>components<span class="token punctuation">.</span>html
<span class="token operator">&lt;</span>p<span class="token operator">></span>login works<span class="token operator">!</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></code></pre>
<h3 id="3-4-Services（服务）"><a href="#3-4-Services（服务）" class="headerlink" title="3.4 Services（服务）"></a>3.4 Services（服务）</h3><p><img src="/2020/05/22/angular/service.png"></p>
<p>服务是一个广义范畴，包括：值、函数或应用所需的功能。</p>
<p>说白了服务就是针对某个单一或系统功能的封装，例如在 Angular 核心包里面，最典型的一个服务就是 Http 服务。</p>
<p>几乎任何东西都可以是一个服务。 典型的服务是一个类，具有专注的、明确的用途。它应该做一件特定的事情，并把它做好。</p>
<p>例如：</p>
<ul>
<li>日志服务</li>
<li>和服务端接口交互的服务</li>
</ul>
<p>组件类应保持精简。组件本身不从服务器获得数据、不进行验证输入，也不直接往控制台写日志。 它们把这些任务委托给服务。</p>
<p>服务仍然是任何 Angular 应用的基础。组件就是最大的服务消费者。</p>
<p>组件的任务就是提供用户体验，仅此而已。它介于视图（由模板渲染）和应用逻辑（通常包括<em>模型</em>的某些概念）之间。 设计良好的组件为数据绑定提供属性和方法，把其它琐事都委托给服务。</p>
<p>Angular 不会<em>强制要求</em>我们遵循这些原则。 即使我们花 3000 行代码写了一个“厨房洗碗槽”组件，它也不会抱怨什么。</p>
<h3 id="3-5-依赖注入（Dependency-injection）"><a href="#3-5-依赖注入（Dependency-injection）" class="headerlink" title="3.5 依赖注入（Dependency injection）"></a>3.5 依赖注入（Dependency injection）</h3><p><img src="/2020/05/22/angular/dependency-injection.png"></p>
<p>“依赖注入”是提供类的新实例的一种方式，还负责处理好类所需的全部依赖。大多数依赖都是服务。 Angular 使用依赖注入来提供新组件以及组件所需的服务。</p>
<h3 id="3-6-HTTP服务"><a href="#3-6-HTTP服务" class="headerlink" title="3.6 HTTP服务"></a>3.6 HTTP服务</h3><pre class=" language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">//app.module.ts:</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>NgModule<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>BrowserModule<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//HttpClientModule</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>HttpClientModule<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/common/http'</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    BrowserModule<span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">//加入HttpClientModule</span>
    HttpClientModule<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyAppModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre>
<pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClient<span class="token punctuation">,</span> HttpHeaders <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/common/http'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//发起一个 get 请求</span>
@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  results<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">//在构造函数中注入HttpClient</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> http<span class="token punctuation">:</span> HttpClient<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 发送get请求</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/api/homead'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>data <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">//请求错误</span>
    err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Something went wrong!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-javascript"><code class="language-javascript">#代理设置
<span class="token comment" spellcheck="true">//在项目根目录下创建 proxy.conf.json</span>
<span class="token punctuation">{</span>
    <span class="token string">"/api"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">"target"</span><span class="token punctuation">:</span> <span class="token string">"http://localhost:3001/"</span><span class="token punctuation">,</span>
        <span class="token string">"changeOrigin"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
        <span class="token string">"logLevel"</span><span class="token punctuation">:</span> <span class="token string">"debug"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

#修改<span class="token keyword">package</span><span class="token punctuation">.</span>json
<span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"ng serve --proxy-config proxy.conf.json"</span><span class="token punctuation">,</span></code></pre>
<h2 id="4-TodoMVC案例"><a href="#4-TodoMVC案例" class="headerlink" title="4.TodoMVC案例"></a>4.TodoMVC案例</h2><h3 id="4-1-下载模板"><a href="#4-1-下载模板" class="headerlink" title="4.1 下载模板"></a>4.1 下载模板</h3><pre class=" language-shell"><code class="language-shell">git clone https://github.com/tastejs/todomvc-app-template.git --depth 1</code></pre>
<pre class=" language-shell"><code class="language-shell">//初始化项目
ng new todomvc-angular
cd todomvc-angular
ng serve</code></pre>
<p>将 <code>todomvc-angular\src\app\app.component.html</code> 文件内容替换如下：</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>todoapp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>todos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>new-todo<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>What needs to be done?<span class="token punctuation">"</span></span> <span class="token attr-name">autofocus</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!-- This section should be hidden by default and shown when there are todos --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>toggle-all<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>toggle-all<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>toggle-all<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Mark all as complete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>todo-list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token comment" spellcheck="true">&lt;!-- These are here just to show the structure of the list items --></span>
      <span class="token comment" spellcheck="true">&lt;!-- List items should get the class `editing` when editing and `completed` when marked as completed --></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>completed<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>view<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>toggle<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>Taste JavaScript<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>destroy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>edit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Create a TodoMVC template<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>view<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>toggle<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>Buy a unicorn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>destroy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>edit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Rule the web<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!-- This footer should hidden by default and shown when there are todos --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- This should be `0 items left` by default --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>todo-count<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span> item left<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- Remove this if you don't implement routing --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>filters<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>selected<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>All<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#/active<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Active<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#/completed<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Completed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- Hidden if no completed items are left ↓ --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>clear-completed<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Clear completed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Double-click to edit a todo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!-- Remove the below line ↓ --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Template by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://sindresorhus.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sindre Sorhus<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!-- Change this out with your name and url ↓ --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Created by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://todomvc.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>you<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Part of <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://todomvc.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>TodoMVC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span>
</code></pre>
<p>安装模板依赖的样式文件：</p>
<pre class=" language-shell"><code class="language-shell">npm install todomvc-app-css</code></pre>
<p>在 <code>todomvc-angular\src\styles.less</code> 文件中导入样式文件：</p>
<pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* You can add global styles to this file, and also import other style files */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url">url('todomvc-app-css/index.css')</span><span class="token punctuation">;</span></span></code></pre>
<p>看到如下页面说明成功。</p>
<p><img src="/2020/05/22/angular/1563418624733.png"></p>
<h3 id="4-2-列表数据渲染"><a href="#4-2-列表数据渲染" class="headerlink" title="4.2 列表数据渲染"></a>4.2 列表数据渲染</h3><p><img src="/2020/05/22/angular/1581060581989.png"></p>
<pre class=" language-javascript"><code class="language-javascript">#<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>components<span class="token punctuation">.</span>ts
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  id<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  title<span class="token punctuation">:</span><span class="token string">"吃饭"</span><span class="token punctuation">,</span>
  done<span class="token punctuation">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  id<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span>
  title<span class="token punctuation">:</span><span class="token string">"睡觉"</span><span class="token punctuation">,</span>
  done<span class="token punctuation">:</span><span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'app-root'</span><span class="token punctuation">,</span>
  templateUrl<span class="token punctuation">:</span> <span class="token string">'./app.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./app.component.less'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//声明一个todos变量，他是一个对象数组，赋予一个初值</span>
  <span class="token keyword">public</span> todos<span class="token punctuation">:</span><span class="token punctuation">{</span>
    id<span class="token punctuation">:</span>number<span class="token punctuation">,</span>
    title<span class="token punctuation">:</span>string<span class="token punctuation">,</span>
    done<span class="token punctuation">:</span>boolean
  <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span> todos
<span class="token punctuation">}</span>

#<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>module<span class="token punctuation">.</span>ts
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> AppRoutingModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app-routing.module'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.component'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> FormsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    AppComponent
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    BrowserModule<span class="token punctuation">,</span>
    AppRoutingModule<span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">//引入FormsModule，可以在表单中使用ngModel(双向数据绑定)</span>
    FormsModule<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  bootstrap<span class="token punctuation">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

#<span class="token number">3</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
 <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"todo-list"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>li <span class="token operator">*</span>ngFor<span class="token operator">=</span><span class="token string">"let todo of todos"</span> <span class="token punctuation">[</span>ngClass<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"{completed: todo.done}"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"view"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>input <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"toggle"</span> type<span class="token operator">=</span><span class="token string">"checkbox"</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>ngModel<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"todo.done"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>label<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> todo<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>




     <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 
      li 是每一个任务项
      每个任务项有三种状态：
        正常状态 没有样式
        完成状态 completed
        编辑状态 editing
     <span class="token operator">--</span><span class="token operator">></span> </code></pre>
<h3 id="4-3-添加任务"><a href="#4-3-添加任务" class="headerlink" title="4.3 添加任务"></a>4.3 添加任务</h3><pre class=" language-javascript"><code class="language-javascript">#<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
    <span class="token operator">&lt;</span>h1<span class="token operator">></span>todos<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
    <span class="token operator">&lt;</span>input
      <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"new-todo"</span>
      placeholder<span class="token operator">=</span><span class="token string">"What needs to be done?"</span>
      autofocus
      <span class="token punctuation">(</span>keyup<span class="token punctuation">.</span>enter<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"addTodo($event)"</span><span class="token operator">></span>


#<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts     
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//声明一个todos变量，他是一个对象数组，赋予一个初值</span>
  <span class="token keyword">public</span> todos<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
    done<span class="token punctuation">:</span> boolean
  <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> todos

  <span class="token comment" spellcheck="true">//声明一个添加任务的函数，该函数入参一个事件对象，返回值是void</span>
  <span class="token function">addTodo</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> titleText <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>titleText<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> last <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      id<span class="token punctuation">:</span> last <span class="token operator">?</span> last<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      title<span class="token punctuation">:</span> titleText<span class="token punctuation">,</span>
      done<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true">// 清除文本框</span>
    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="4-4-切换所有任务项"><a href="#4-4-切换所有任务项" class="headerlink" title="4.4 切换所有任务项"></a>4.4 切换所有任务项</h3><p><img src="/2020/05/22/angular/1581061830879.png"></p>
<p>思路：切换input控件的checked属性值由任务列表中的任务状态决定，当任务列表中的所有任务都完成，input空间的checked状态为选中状态；反之为没有选中状态</p>
<p>这边我们通过get、set来完成</p>
<h4 id="4-4-1-所有任务都完成的情况"><a href="#4-4-1-所有任务都完成的情况" class="headerlink" title="4.4.1 所有任务都完成的情况"></a>4.4.1 所有任务都完成的情况</h4><pre class=" language-javascript"><code class="language-javascript"> #<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
 <span class="token operator">&lt;</span>section <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"main"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">"toggle-all"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"toggle-all"</span> type<span class="token operator">=</span><span class="token string">"checkbox"</span> <span class="token punctuation">[</span>checked<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"toggleAll"</span><span class="token operator">></span>

  #<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts   
  <span class="token comment" spellcheck="true">//当在外部使用toggleAll属性的时候，调用get方法，当前方法如果todos中所有的任务完成，返回true；如果有任何一个任务没有完成，返回false</span>
  <span class="token keyword">get</span> toggleAll <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>t <span class="token operator">=</span><span class="token operator">></span> t<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
  <span class="token punctuation">}</span></code></pre>
<h4 id="4-4-2-点击切换按钮"><a href="#4-4-2-点击切换按钮" class="headerlink" title="4.4.2 点击切换按钮"></a>4.4.2 点击切换按钮</h4><pre class=" language-javascript"><code class="language-javascript"> #<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
<span class="token operator">&lt;</span>section <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"main"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">"toggle-all"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"toggle-all"</span> type<span class="token operator">=</span><span class="token string">"checkbox"</span> <span class="token punctuation">[</span>checked<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"toggleAll"</span> <span class="token punctuation">(</span>change<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"toggleAll = $event.target.checked"</span><span class="token operator">></span>


 #<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts   
 <span class="token comment" spellcheck="true">//当在外部给toggleAll赋值的时候，调用set方法，作用是修改todos中所有任务的状态</span>
  <span class="token keyword">set</span> toggleAll <span class="token punctuation">(</span>val<span class="token punctuation">:</span> boolean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>t <span class="token operator">=</span><span class="token operator">></span> t<span class="token punctuation">.</span>done <span class="token operator">=</span> val<span class="token punctuation">)</span>
  <span class="token punctuation">}</span></code></pre>
<h3 id="4-5-删除任务"><a href="#4-5-删除任务" class="headerlink" title="4.5 删除任务"></a>4.5 删除任务</h3><p><img src="/2020/05/22/angular/1581062150742.png"></p>
<pre class=" language-javascript"><code class="language-javascript"> #<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
 <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token number">1</span><span class="token punctuation">.</span>遍历的时候添加索引i<span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span>li <span class="token operator">*</span>ngFor<span class="token operator">=</span><span class="token string">"let todo of todos; let i = index;"</span> <span class="token punctuation">[</span>ngClass<span class="token punctuation">]</span><span class="token operator">=</span>"<span class="token punctuation">{</span>
      completed<span class="token punctuation">:</span> todo<span class="token punctuation">.</span>done
    <span class="token punctuation">}</span>"<span class="token operator">></span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"view"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>input <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"toggle"</span> type<span class="token operator">=</span><span class="token string">"checkbox"</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>ngModel<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"todo.done"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>label<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> todo<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token number">2</span><span class="token punctuation">.</span>添加删除按钮<span class="token operator">--</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"destroy"</span> <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"removeTodo(i)"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>

#<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts       
removeTodo <span class="token punctuation">(</span>index<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span></code></pre>
<h3 id="4-6-编辑功能"><a href="#4-6-编辑功能" class="headerlink" title="4.6 编辑功能"></a>4.6 编辑功能</h3><h4 id="4-6-1-双击label启用编辑样式"><a href="#4-6-1-双击label启用编辑样式" class="headerlink" title="4.6.1 双击label启用编辑样式"></a>4.6.1 双击label启用编辑样式</h4><p><img src="/2020/05/22/angular/1581062662377.png"></p>
<pre class=" language-javascript"><code class="language-javascript">  #<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
  <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"todo-list"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token number">1</span><span class="token punctuation">.</span>新增一个currentEditing变量用于控制当前li是否添加editing样式<span class="token operator">--</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>li <span class="token operator">*</span>ngFor<span class="token operator">=</span><span class="token string">"let todo of todos; let i = index;"</span> <span class="token punctuation">[</span>ngClass<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"{completed: todo.done, editing: currentEditing === todo}"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"view"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>input <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"toggle"</span> type<span class="token operator">=</span><span class="token string">"checkbox"</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>ngModel<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"todo.done"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token number">2</span><span class="token punctuation">.</span>双击当前label，修改currentEditing的值<span class="token operator">--</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>label <span class="token punctuation">(</span>dblclick<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"currentEditing = todo"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> todo<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span>
          <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"destroy"</span> <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"removeTodo(i)"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token number">3</span><span class="token punctuation">.</span>添加一个input文本框用于文本编辑，这里需要按下回车键保存，所以不需要使用ngModel<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>input <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"edit"</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"todo.title"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>


#<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts    
<span class="token comment" spellcheck="true">//4.声明currentEditing用来表示当前正在编辑的对象</span>
  <span class="token keyword">public</span> currentEditing<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    title<span class="token punctuation">:</span> string<span class="token punctuation">,</span>
    done<span class="token punctuation">:</span> boolean
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">null</span></code></pre>
<h4 id="4-6-2-回车键、失去焦点保存编辑、esc取消编辑"><a href="#4-6-2-回车键、失去焦点保存编辑、esc取消编辑" class="headerlink" title="4.6.2 回车键、失去焦点保存编辑、esc取消编辑"></a>4.6.2 回车键、失去焦点保存编辑、esc取消编辑</h4><pre class=" language-javascript"><code class="language-javascript"> #<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
      <span class="token operator">&lt;</span>input <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"edit"</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"todo.title"</span> <span class="token punctuation">(</span>keyup<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"handleEditKeyUp($event)"</span>
      <span class="token punctuation">(</span>keyup<span class="token punctuation">.</span>enter<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"saveEdit(todo, $event)"</span> <span class="token punctuation">(</span>blur<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"saveEdit(todo, $event)"</span><span class="token operator">></span>


#<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts
  <span class="token function">saveEdit</span><span class="token punctuation">(</span>todo<span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 保存编辑</span>
    todo<span class="token punctuation">.</span>title <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token comment" spellcheck="true">// 去除编辑样式</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>currentEditing <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">//键盘弹起的时候判断是否按下了回车键</span>
  <span class="token function">handleEditKeyUp</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> keyCode<span class="token punctuation">,</span> target <span class="token punctuation">}</span> <span class="token operator">=</span> e
    <span class="token comment" spellcheck="true">//esc键  还原最初的文字</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>keyCode <span class="token operator">===</span> <span class="token number">27</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// 取消编辑</span>
      <span class="token comment" spellcheck="true">// 同时把文本框的值恢复为原来的值</span>
      target<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentEditing<span class="token punctuation">.</span>title
      <span class="token keyword">this</span><span class="token punctuation">.</span>currentEditing <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span></code></pre>
<h3 id="4-7-剩余未完成任务数量显示"><a href="#4-7-剩余未完成任务数量显示" class="headerlink" title="4.7 剩余未完成任务数量显示"></a>4.7 剩余未完成任务数量显示</h3><pre class=" language-javascript"><code class="language-javascript"> #<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
<span class="token operator">&lt;</span>footer <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"footer"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"todo-count"</span><span class="token operator">></span><span class="token operator">&lt;</span>strong<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span>remaningCount<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">></span> item left<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>

 #<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts   
 <span class="token comment" spellcheck="true">//剩余未完成任务数量</span>
  <span class="token keyword">get</span> remaningCount <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>t <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">!</span>t<span class="token punctuation">.</span>done<span class="token punctuation">)</span><span class="token punctuation">.</span>length
  <span class="token punctuation">}</span></code></pre>
<h3 id="4-8-清除所有已完成任务"><a href="#4-8-清除所有已完成任务" class="headerlink" title="4.8 清除所有已完成任务"></a>4.8 清除所有已完成任务</h3><pre class=" language-javascript"><code class="language-javascript">#<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
  <span class="token operator">&lt;</span>button
    <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"clearAllDone()"</span>
    <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"clear-completed"</span><span class="token operator">></span>Clear completed<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">></span>  

#<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts 
  <span class="token comment" spellcheck="true">// 清除所有已完成任务项</span>
   clearAllDone <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>todos <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>t <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">!</span>t<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
  <span class="token punctuation">}</span></code></pre>
<h3 id="4-9-任务列表过滤"><a href="#4-9-任务列表过滤" class="headerlink" title="4.9 任务列表过滤"></a>4.9 任务列表过滤</h3><pre class=" language-javascript"><code class="language-javascript">#<span class="token number">1</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html
 <span class="token operator">&lt;</span>footer <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"footer"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"todo-count"</span><span class="token operator">></span><span class="token operator">&lt;</span>strong<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span>remaningCount<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">></span> item left<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">1</span><span class="token punctuation">.</span>点击a标签切换路由 <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"filters"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>li<span class="token operator">></span>
        <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"selected"</span> href<span class="token operator">=</span><span class="token string">"#/"</span><span class="token operator">></span>All<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
      <span class="token operator">&lt;</span>li<span class="token operator">></span>
        <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"#/active"</span><span class="token operator">></span>Active<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
      <span class="token operator">&lt;</span>li<span class="token operator">></span>
        <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"#/completed"</span><span class="token operator">></span>Completed<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>


#<span class="token number">2</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>ts     
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Router<span class="token punctuation">,</span> NavigationStart<span class="token punctuation">,</span> NavigationEnd <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">//2.添加一个属性用于控制任务列表的切换</span>
  <span class="token keyword">public</span> visibility<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'all'</span>
  <span class="token comment" spellcheck="true">//3.注入路由对象</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span> <span class="token keyword">private</span> router<span class="token punctuation">:</span> Router<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">//4.ngOnInit方法中监听路由变化，根据不同的地址修改this.visibility为不同类型</span>
  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>router<span class="token punctuation">.</span>events
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">/* 路由事件类型：
        NavigationStart：导航开始
        NavigationEnd：导航结束
        NavigationCancel：取消导航
        NavigationError：导航出错
        RoutesRecoginzed：路由已认证
      */</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>event <span class="token keyword">instanceof</span> <span class="token class-name">NavigationEnd</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> hash <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>hash<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">case</span> <span class="token string">'/'</span><span class="token punctuation">:</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> <span class="token string">'all'</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> <span class="token string">'/active'</span><span class="token punctuation">:</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> <span class="token string">'active'</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> <span class="token string">'/completed'</span><span class="token punctuation">:</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> <span class="token string">'completed'</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">//5.get方法，当visibility发生变化的时候会触发该方法，在该方法中返回新列表</span>
  <span class="token keyword">get</span> <span class="token function">filterTodos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>visibility <span class="token operator">===</span> <span class="token string">'all'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>visibility <span class="token operator">===</span> <span class="token string">'active'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>t <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">!</span>t<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>visibility <span class="token operator">===</span> <span class="token string">'completed'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>t <span class="token operator">=</span><span class="token operator">></span> t<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

#<span class="token number">3</span><span class="token punctuation">.</span>修改app<span class="token punctuation">.</span>component<span class="token punctuation">.</span>html的ngFor循环的变量
<span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"todo-list"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token number">1</span><span class="token punctuation">.</span>新增一个currentEditing变量用于控制当前li是否添加editing样式<span class="token operator">--</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>li <span class="token operator">*</span>ngFor<span class="token operator">=</span><span class="token string">"let todo of filterTodos; let i = index;"</span></code></pre>
<h2 id="5-App开发模式介绍"><a href="#5-App开发模式介绍" class="headerlink" title="5.App开发模式介绍"></a>5.App开发模式介绍</h2><h3 id="5-1-常见的App开发模式"><a href="#5-1-常见的App开发模式" class="headerlink" title="5.1 常见的App开发模式"></a>5.1 常见的App开发模式</h3><ul>
<li>webApp(H5App)：采用html/css/js前端技术来实现的一些移动端的网页</li>
<li>nativeApp：使用 iOS、Android 官方提供的工具、开发平台、配套语言进行手机App开发的方式；</li>
<li>hybrid：使用前端已有的技术，HTML + CSS + JS ，然后再搭配一些相关的打包编译技术，就能够开发出一个手机App，安装到手机中进行使用。</li>
</ul>
<p><img src="/2020/05/22/angular/1581237370446.png"></p>
<h3 id="5-2-混合式开发的技术选型"><a href="#5-2-混合式开发的技术选型" class="headerlink" title="5.2 混合式开发的技术选型"></a>5.2 混合式开发的技术选型</h3><ul>
<li><p>Angular/React(Vue) + Ionic4</p>
<pre><code>特点：
- 对Angular支持好
- 开发H5App、HybirdApp
- 基于Cordova提供的打包命令打包成iOS、android端程序
- 支持web、iOS、android(HybirdApp应用)</code></pre>
</li>
<li><p>h5+</p>
<pre class=" language-javascript"><code class="language-javascript">特点：
<span class="token operator">-</span> 提供打包工具将H5应用打包成HybirdApp应用</code></pre>
</li>
<li><p>React+React-Native</p>
<pre class=" language-javascript"><code class="language-javascript">特点：
<span class="token operator">-</span> 基于React语法
<span class="token operator">-</span> 开发NativeApp
<span class="token operator">-</span> 提供编译工具将源代码编译成iOS和android端应用
<span class="token operator">-</span> 坑多，社区生态多，目前是主流的原生开发技术
<span class="token operator">-</span> facebook正在重构React<span class="token operator">-</span>Native</code></pre>
</li>
</ul>
<ul>
<li><p>Vue+Weex(阿里)</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token operator">-</span> 使用vue作为上层框架
<span class="token operator">-</span> 开发WebApp、NativeApp
<span class="token operator">-</span> 使用Weex提供的打包工具打包成iOS、android端程序
<span class="token operator">-</span> <span class="token function">支持web、iOS、android</span><span class="token punctuation">(</span>NativeApp应用<span class="token punctuation">)</span>
<span class="token operator">-</span> 更新慢、坑多、社区不活跃</code></pre>
</li>
</ul>
<ul>
<li><p>flutter(谷歌)</p>
<pre><code>特点：
- 基于dart语言（不是JavaScript）
- 框架较新，坑多
- 开发NativeApp
- 没有使用iOS和android的原生组件，使用的是自己定义的Widgets(小控件)</code></pre>
</li>
<li><p>React+Taro(京东)</p>
<pre><code>特点：
- 基于React语法
- 一套源码，多端支持（微信/百度/支付宝/头条/QQ小程序、H5App、React Native）
- 提供编译工具将源代码分别编译成各种小程序、H5、RN
- 坑多、框架新、更新维护快、官方微信群活跃
- 一般可以用来写各种小程序，只支持Taro自己提供的UI库，不支持第三方UI库(小程序的库肯定不能用在React Native)</code></pre>
</li>
</ul>
<ul>
<li><p>vue + uni-app</p>
<pre><code>特点：
- 基于Vue语法
- 一套源码，多端支持(微信/百度/支付宝/头条/QQ小程序、H5App、NativeApp)
- 提供编译工具将源代码分别编译成各种小程序、H5、NativeApp
- App端使用H5+规范，H5+规范包括了html5plus、Native.js、weex
- 国内有一定量的开发者，坑多，社区不够强大
- 可以用来写各种小程序和H5App</code></pre>
</li>
</ul>
<h3 id="5-3-开发技术选型的区别"><a href="#5-3-开发技术选型的区别" class="headerlink" title="5.3 开发技术选型的区别"></a>5.3 开发技术选型的区别</h3><p><img src="/2020/05/22/angular/aa.png"></p>
<h2 id="6-Ionic"><a href="#6-Ionic" class="headerlink" title="6.Ionic"></a>6.Ionic</h2><h3 id="6-1-Ionic介绍"><a href="#6-1-Ionic介绍" class="headerlink" title="6.1 Ionic介绍"></a>6.1 Ionic介绍</h3><p><a target="_blank" rel="noopener" href="https://ionicframework.com/docs/api/alert">https://ionicframework.com/docs/api/alert</a></p>
<p>Ionic是一个开源的移动应用程序开发框架，它可以轻松地使用web技术构建高质量的跨平台的移动应用。可以让我们快速开发移动App、移动端WEB页面、微信公众平台应用，混合app web页面。</p>
<pre class=" language-javascript"><code class="language-javascript">Ionic <span class="token operator">=</span> Cordova <span class="token operator">+</span> AngularJS <span class="token operator">+</span> Ionic UI

<span class="token operator">-</span> Cordova：提供了使用 JavaScript 调用 Native 功能，提供一些打包命令
<span class="token operator">-</span> AngularJS：Ionic4之前和Angular的耦合度非常高，所有的组件都是用Angular来写的，Ionic4开始构建了一套独立的web组件，但是我们仍然可以通过@ionic<span class="token operator">/</span>angular包与Angular深度集成
<span class="token operator">-</span> Ionic UI：Ionic UI提供了丰富的移动端UI组件</code></pre>
<h3 id="6-2-Ionic的特点"><a href="#6-2-Ionic的特点" class="headerlink" title="6.2 Ionic的特点"></a>6.2 Ionic的特点</h3><p><strong>跨平台</strong>：构建和部署跨多个平台的应用程序，例如本机iOS，Android，移动Web应用。所有这些都具有一个代码库，写一次，到处运行。</p>
<p><strong>基于Web标准</strong>：Ionic4中所有的组件都是Web Components，可作为独立的Web组件库，集成了最新的JavaScript框架，如Angular、React、Vue。(对Vue 的支持尚处于 alpha 状态)</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/1fec065bb359">https://www.jianshu.com/p/1fec065bb359</a></p>
<p><strong>精美的设计</strong>：干净，简单，功能齐全。</p>
<p><img src="/2020/05/22/angular/1581127808417.png"></p>
<p><strong>Ionic CLI</strong>：是一种快速支撑Ionic应用程序并为Ionic开发人员提供许多有用命令的工具</p>
<h3 id="6-3-Ionic基本使用"><a href="#6-3-Ionic基本使用" class="headerlink" title="6.3 Ionic基本使用"></a>6.3 Ionic基本使用</h3><h4 id="6-3-1-配置本地环境"><a href="#6-3-1-配置本地环境" class="headerlink" title="6.3.1 配置本地环境"></a>6.3.1 配置本地环境</h4><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//1.确保本地安装了node环境(建议使用最新稳定版)、安装Java JDK</span>

<span class="token comment" spellcheck="true">//2.将资料中android文件夹解压到c盘目录下</span>

<span class="token comment" spellcheck="true">//3.将gradle-5.6.1.zip解压到c盘目录下</span>

<span class="token comment" spellcheck="true">//4.配置JAVA_HOME    ANDROID_HOME   GRADLE_HOME    Path环境变量</span>
JAVA_HOME                C<span class="token punctuation">:</span>\Program Files\Java\jdk1<span class="token number">.8</span><span class="token punctuation">.</span>0_92
ANDROID_HOME        C<span class="token punctuation">:</span>\android
GRADLE_HOME           C<span class="token punctuation">:</span>\gradle<span class="token number">-5.6</span><span class="token punctuation">.</span><span class="token number">1</span>\bin
Path                             <span class="token operator">%</span>JAVA_HOME<span class="token operator">%</span>\bin<span class="token punctuation">;</span><span class="token operator">%</span>JAVA_HOME<span class="token operator">%</span>\lib\tools<span class="token punctuation">.</span>jar<span class="token punctuation">;</span><span class="token operator">%</span>ANDROID_HOME<span class="token operator">%</span>\tools<span class="token punctuation">;</span><span class="token operator">%</span>ANDROID_HOME<span class="token operator">%</span>\platform<span class="token operator">-</span>tools<span class="token punctuation">;</span><span class="token operator">%</span>GRADLE_HOME<span class="token operator">%</span>

<span class="token comment" spellcheck="true">//5.安装夜神模拟器</span>
<span class="token operator">-</span> <span class="token number">5.1</span> 将C<span class="token punctuation">:</span>\android\platform<span class="token operator">-</span>tools\adb<span class="token punctuation">.</span>exe拷贝一份，替换掉雷电模拟器中的adb<span class="token punctuation">.</span>exe
<span class="token operator">-</span> <span class="token number">5.2</span> 打开雷电模拟器
<span class="token operator">-</span> <span class="token number">5.3</span> 使用adb命令连接模拟器
    adb connect <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">5555</span>   <span class="token operator">/</span>  adb disconnect <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">5555</span>
<span class="token operator">-</span><span class="token number">5.4</span> 查看连接到电脑上的设备列表
    adb devices</code></pre>
<h4 id="6-3-2-安装cordova和-ionic-cli，创建一个项目"><a href="#6-3-2-安装cordova和-ionic-cli，创建一个项目" class="headerlink" title="6.3.2 安装cordova和@ionic/cli，创建一个项目"></a>6.3.2 安装cordova和@ionic/cli，创建一个项目</h4><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//1.安装cordova和@ionic/cli</span>
    npm install <span class="token operator">-</span>g cordova@<span class="token number">9.0</span><span class="token punctuation">.</span><span class="token number">0</span> @ionic<span class="token operator">/</span>cli@<span class="token number">6.1</span><span class="token punctuation">.</span><span class="token number">0</span>

<span class="token comment" spellcheck="true">//2.使用Ionic命令创建项目</span>
    ionic start myAppName tabs  
    <span class="token comment" spellcheck="true">//ionic start myAppName blank</span>
    <span class="token comment" spellcheck="true">//ionic start myAppName sidemenu</span>

    <span class="token comment" spellcheck="true">//这边可能会包网络错误，解决方案：</span>
      <span class="token operator">-</span> 翻墙（可能解决不了） 
      <span class="token operator">-</span> <span class="token function">开启手机热点，然后电脑连接手机热点的wifi，再次创建</span><span class="token punctuation">(</span>正常可以解决<span class="token punctuation">)</span>
      <span class="token operator">-</span> 如果以上两个方案都解决不了那么就找个已经创建好的ionic项目

<span class="token comment" spellcheck="true">//3.运行项目:</span>
$ cd myApp
$ ionic serve

<span class="token comment" spellcheck="true">//4.打包成单页面项目运行在微信/web浏览器:</span>
$ ionic build browser
$ ionic build browser <span class="token operator">--</span>prod  <span class="token comment" spellcheck="true">//发布环境的</span></code></pre>
<h4 id="6-3-3-打包混合App"><a href="#6-3-3-打包混合App" class="headerlink" title="6.3.3 打包混合App"></a>6.3.3 打包混合App</h4><pre class=" language-javascript"><code class="language-javascript">注意点：
<span class="token number">1</span><span class="token punctuation">.</span>全局安装的cordova版本号需要是<span class="token number">9.0</span><span class="token punctuation">.</span><span class="token number">0</span>，因为我们所配置android sdk版本号是<span class="token number">28</span>
<span class="token number">2</span><span class="token punctuation">.</span>项目必须是在非中文的路径下
<span class="token number">3</span><span class="token punctuation">.</span>在敲 ionic cordova platform add android 命令的时候需要翻墙
<span class="token number">4</span><span class="token punctuation">.</span>在using cordova<span class="token operator">-</span>fetch <span class="token keyword">for</span> cordova<span class="token operator">-</span>android@<span class="token operator">^</span><span class="token number">8.0</span><span class="token punctuation">.</span><span class="token number">0</span>后续的下载过程中又不需要翻墙

$  ionic cordova platform add android  
报错：不能安装cordova<span class="token operator">-</span>common模块，解决方案就是 npm install cordova<span class="token operator">-</span>common
$  ionic cordova build android 
报错：找不到properties<span class="token operator">-</span>parser模块，解决方案就是 npm install properties<span class="token operator">-</span>parser
报错：找不到shelljs模块，解决方案就是 npm install shelljs
报错：找不到nopt模块，解决方案就是 npm install nopt
报错：找不到compare<span class="token operator">-</span>func模块，解决方案就是 npm install compare<span class="token operator">-</span>func

<span class="token comment" spellcheck="true">//连接夜神模拟器调试(需要先打开夜神模拟器、然后连接调试)</span>
$  ionic cordova run android   

<span class="token comment" spellcheck="true">//Ionic 5 ERR_AVD_HOME_NOT_FOUND: No valid Android AVD home found. </span>
<span class="token comment" spellcheck="true">//https://stackoom.com/question/3vSIG/Ionic-ERR-AVD-HOME-NOT-FOUND-%E6%89%BE%E4%B8%8D%E5%88%B0%E6%9C%89%E6%95%88%E7%9A%84Android-AVD%E4%B8%BB%E7%9B%AE%E5%BD%95-%E5%9C%A8Windows-%E4%B8%AD</span>
本机运行找不到AVD HOME，只需在下创建一个新目录 C<span class="token punctuation">:</span><span class="token operator">/</span>users<span class="token regex">/mazg/</span><span class="token punctuation">.</span>android<span class="token operator">/</span>avd
如果这样不起作用，请将其添加到$ PATH变量中。</code></pre>
<h3 id="6-4-Ionic项目目录结构介绍"><a href="#6-4-Ionic项目目录结构介绍" class="headerlink" title="6.4 Ionic项目目录结构介绍"></a>6.4 Ionic项目目录结构介绍</h3><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">-</span>e2e：端对端测试文件
<span class="token operator">-</span>node_modules：项目所需要的依赖包
<span class="token operator">-</span>resources：Android <span class="token operator">/</span> iOS 资源 （更换图标和启动动画）
<span class="token operator">-</span>src：开发工作目录，页面、样式、脚本和图片都放在这个目录下
    <span class="token operator">-</span> app：应用根目录（组件、页面、服务、模块）
    <span class="token operator">-</span> assets：资源目录（静态文件，图片，js框架<span class="token operator">...</span>）
    <span class="token operator">-</span> theme：主题文件，里面有一个scss文件，设置主题信息
    <span class="token operator">-</span> global<span class="token punctuation">.</span>scss：全局 css 文件
    <span class="token operator">-</span> index<span class="token punctuation">.</span>html：index 入口文件
    <span class="token operator">-</span> main<span class="token punctuation">.</span>ts：主入口文件
    <span class="token operator">-</span> karma<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>js <span class="token operator">/</span> test<span class="token punctuation">.</span>js：测试相关的配置文件
    <span class="token operator">-</span> polyfills<span class="token punctuation">.</span>ts：这个文件包含 Angular 需要的填充，并在应用程序之前加载
<span class="token operator">-</span>www：静态文件，ionic build <span class="token operator">--</span>prod 生成的单页面静态资源文件
<span class="token operator">-</span>platforms：生成 Android 或者 iOS 安装包需要的资源（cordova platform add Android后会生成）
<span class="token operator">-</span>plugins：插件文件夹，里面放置各种cordova安装的插件
<span class="token operator">-</span>config<span class="token punctuation">.</span>xml：打包成 app 的配置文件
<span class="token operator">-</span><span class="token keyword">package</span><span class="token punctuation">.</span>json：配置项目的元数据和管理项目所需要的依赖
<span class="token operator">-</span>ionic<span class="token punctuation">.</span>config<span class="token punctuation">.</span>json：ionic配置文件
<span class="token operator">-</span>angular<span class="token punctuation">.</span>json：angular配置文件
<span class="token operator">-</span>tsconfig<span class="token punctuation">.</span>json：TypeScript 项目的根目录，指定用来编译这个项目的问根文件和编译选项
<span class="token operator">-</span>tslint<span class="token punctuation">.</span>json：格式化和校验 typescript</code></pre>
<pre class=" language-javascript"><code class="language-javascript"># app<span class="token punctuation">.</span>module<span class="token punctuation">.</span>ts   <span class="token comment" spellcheck="true">/*这个文件是Ionic 根模块，告诉 Ionic 如何组装应用*/</span>

<span class="token comment" spellcheck="true">//angular 核心</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//BrowserModule，浏览器解析的模块</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//路由</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RouteReuseStrategy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//ionic 核心模块</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> IonicModule<span class="token punctuation">,</span> IonicRouteStrategy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ionic/angular'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//启动画面插件相关服务</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> SplashScreen <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ionic-native/splash-screen/ngx'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//导航条插件相关服务</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StatusBar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ionic-native/status-bar/ngx'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//路由模块</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppRoutingModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app-routing.module'</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//根模块</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.component'</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token punctuation">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//配置当前项目运行的组件</span>
  entryComponents<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>BrowserModule<span class="token punctuation">,</span> IonicModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> AppRoutingModule<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//配置当前模块运行依赖的其他模块</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token comment" spellcheck="true">//配置项目所需要的服务</span>
    StatusBar<span class="token punctuation">,</span>
    SplashScreen<span class="token punctuation">,</span>
    <span class="token punctuation">{</span> provide<span class="token punctuation">:</span> RouteReuseStrategy<span class="token punctuation">,</span> useClass<span class="token punctuation">:</span> IonicRouteStrategy <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  bootstrap<span class="token punctuation">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>   <span class="token comment" spellcheck="true">//指定应用的主视图（称为根组件）通过引导根 AppModule来启动应用，这里一般写的是根组件</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre>
<h3 id="6-5-配置新的路由页面"><a href="#6-5-配置新的路由页面" class="headerlink" title="6.5 配置新的路由页面"></a>6.5 配置新的路由页面</h3><pre class=" language-javascript"><code class="language-javascript">ionic g page views<span class="token operator">/</span>detail</code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//在tab1中跳转</span>

<span class="token operator">&lt;</span>ion<span class="token operator">-</span>content<span class="token operator">></span>
    <span class="token operator">&lt;</span>ion<span class="token operator">-</span>button <span class="token punctuation">[</span>routerLink<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"['/detail']"</span> routerLinkActive<span class="token operator">=</span><span class="token string">"router-link-active"</span> <span class="token operator">></span>
      跳转detail
    <span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>button<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>content<span class="token operator">></span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//detail页面中跳回前一个页面</span>

<span class="token operator">&lt;</span>ion<span class="token operator">-</span>header<span class="token operator">></span>
  <span class="token operator">&lt;</span>ion<span class="token operator">-</span>toolbar<span class="token operator">></span>
   <span class="token comment" spellcheck="true">//++</span>
    <span class="token operator">&lt;</span>ion<span class="token operator">-</span>buttons slot<span class="token operator">=</span><span class="token string">"start"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>ion<span class="token operator">-</span>back<span class="token operator">-</span>button<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>back<span class="token operator">-</span>button<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>buttons<span class="token operator">></span>
    <span class="token comment" spellcheck="true">//+</span>
    <span class="token operator">&lt;</span>ion<span class="token operator">-</span>title<span class="token operator">></span>detail<span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>title<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>toolbar<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>header<span class="token operator">></span></code></pre>
<h3 id="6-6-新增底部导航"><a href="#6-6-新增底部导航" class="headerlink" title="6.6 新增底部导航"></a>6.6 新增底部导航</h3><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// 新增模块</span>
ionic g page tab4

<span class="token comment" spellcheck="true">//删除app-routing.module.ts中自动配的tab4的路由</span>

<span class="token comment" spellcheck="true">//tabs-routing.module.ts中新增路由</span>
<span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> <span class="token string">'tab4'</span><span class="token punctuation">,</span>
        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            path<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            loadChildren<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>
              <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../tab4/tab4.module'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>m <span class="token operator">=</span><span class="token operator">></span> m<span class="token punctuation">.</span>Tab4PageModule<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//tabs.page.html中配置</span>
<span class="token comment" spellcheck="true">//++ 新添加导航</span>
<span class="token operator">&lt;</span>ion<span class="token operator">-</span>tab<span class="token operator">-</span>button tab<span class="token operator">=</span><span class="token string">"tab4"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>ion<span class="token operator">-</span>icon name<span class="token operator">=</span><span class="token string">"logo-octocat"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>icon<span class="token operator">></span>
      <span class="token operator">&lt;</span>ion<span class="token operator">-</span>label<span class="token operator">></span>Tab Four<span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>label<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>tab<span class="token operator">-</span>button<span class="token operator">></span></code></pre>
<h3 id="6-7-Ionic组件的使用"><a href="#6-7-Ionic组件的使用" class="headerlink" title="6.7 Ionic组件的使用"></a>6.7 Ionic组件的使用</h3><h4 id="6-7-1-alert组件"><a href="#6-7-1-alert组件" class="headerlink" title="6.7.1 alert组件"></a>6.7.1 alert组件</h4><pre class=" language-javascript"><code class="language-javascript"># tab2<span class="token punctuation">.</span>page<span class="token punctuation">.</span>html
<span class="token operator">&lt;</span>ion<span class="token operator">-</span>content<span class="token operator">></span>
  <span class="token operator">&lt;</span>ion<span class="token operator">-</span>button color<span class="token operator">=</span><span class="token string">"primary"</span> <span class="token punctuation">(</span>click<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">"presentAlert()"</span><span class="token operator">></span>Primary<span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>button<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>content<span class="token operator">></span>


# tab2<span class="token punctuation">.</span>page<span class="token punctuation">.</span>ts
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Tab2Page</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> alertController<span class="token punctuation">:</span> AlertController<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">async</span> <span class="token function">presentAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> alert <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>alertController<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      header<span class="token punctuation">:</span> <span class="token string">'Alert'</span><span class="token punctuation">,</span>
      subHeader<span class="token punctuation">:</span> <span class="token string">'Subtitle'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'This is an alert message.'</span><span class="token punctuation">,</span>
      buttons<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'OK'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> alert<span class="token punctuation">.</span><span class="token function">present</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="6-7-2-修改工具栏颜色"><a href="#6-7-2-修改工具栏颜色" class="headerlink" title="6.7.2 修改工具栏颜色"></a>6.7.2 修改工具栏颜色</h4><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>ion<span class="token operator">-</span>toolbar color<span class="token operator">=</span><span class="token string">"success"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>ion<span class="token operator">-</span>title<span class="token operator">></span>
      Tab One
    <span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>title<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ion<span class="token operator">-</span>toolbar<span class="token operator">></span></code></pre>
<h4 id="6-7-3-修改返回按钮文字"><a href="#6-7-3-修改返回按钮文字" class="headerlink" title="6.7.3 修改返回按钮文字"></a>6.7.3 修改返回按钮文字</h4><pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//app.module.ts中配置</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>IonicModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    backButtonText<span class="token punctuation">:</span><span class="token string">"返回"</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre>
<h2 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h2><p><img src="https://www.yuque.com/chengbenchao/voarxb"></p>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Heylog</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://Heylog.github.io/2020/05/22/angular/">https://Heylog.github.io/2020/05/22/angular/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Heylog</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Angular/">
                                    <span class="chip bg-color">Angular</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2020/05/22/angular/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/10.jpg" class="responsive-img" alt="Angular">
                        
                        <span class="card-title">Angular</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Angular（读音['æŋgjʊlə]）是一套用于构建用户界面的 JavaScript 框架。由 Google 开发和维护，主要被用来开发单页面应用程序。
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-05-22
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/TypeScript/" class="post-category">
                                    TypeScript
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Angular/">
                        <span class="chip bg-color">Angular</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/04/29/nuxt/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/11.jpg" class="responsive-img" alt="Nuxt">
                        
                        <span class="card-title">Nuxt</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Nuxt 是一个基于 Vue 生态的更高层的框架，为开发服务端渲染(SSR)的 Vue 应用提供了极其便利的开发体验。
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-04-29
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Vue/" class="post-category">
                                    Vue
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Vue/">
                        <span class="chip bg-color">Vue</span>
                    </a>
                    
                    <a href="/tags/Nuxt/">
                        <span class="chip bg-color">Nuxt</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">Heylog</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/Heylog" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:493111826@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=493111826" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 493111826" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
